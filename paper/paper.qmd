---
title: "Precious Metals Or Crypto, Where Should I Invest?"
subtitle: "A Historical Analysis of the Two Major Asset Categories 2017-Present"
author: 
  - Yi Fei Pang
thanks: "Code and data are available at: https://github.com/apang00/investment-comparison"
date: "`r Sys.time()`"
date-format: "D MMMM YYYY"
toc: true
format: 
  pdf:
    documentclass: article
    geometry: margin = 1in
    abstract: "This paper utilizes and compares datasets extracted from Yahoo Finance and Business insider to perform a financial analysis. The analysis indicates a negative correlation in relation to economic health and precious metal and crpto rates. Furthermore, it shows the growth of crytpo as an asset has been much stronger than precious metals. The importance of this analysis can be very beneficial today especially since there is a recession happening."
number-sections: true
bibliography: references.bib
---

```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(here)
library(knitr)
library(readr)
library(ggplot2)
```

{{< pagebreak >}}
# Introduction

Throughout history, human currency has always been evolving alongside out civilization. From the archaic days of the bartering systems where people traded raw materials, coins and precious metals emerged, then came paper money. As humans evolved even further, electronic banking with credit card emerged and now finally, crytpocurrencies. At every stage of society, humans have tied a value on an economic instrument as a way of wealth storage and wealth exchange.

Gold and silver has been an asset since the ancient civilizations of Egyptians and Incas. Both metals are malleable and therefore can easily be stamped into coins or molded into jewelry. Furthermore, pure gold and silver does not corrode or tarnish, thus making them timeless assets [@InvestopediaMetals]. Thousands of years later, in our modern era, gold and silver still remain as solid assets because of their durability, liquidity, and stability.

However, in the recent years, a new asset has emerged and that is cryptocurrencies. Originally developed as a method of making untraceable transactions, this technology has quickly gained popularity and has transformed into more of an investment rather than a currency. 



# Data {#sec-data}

## Data Description

This paper uses four separated datasets from two different sources. The gold  [@goldbusinessinsider] and silver [@silverbusinessinsider] raw datasets were sourced from a subsidiary of Business Insider, Market Insider. These two datasets include detailed financial information regarding gold and silver data starting from late 2017 until present. The other two cryptocurrency datasets for Ethereum [@ethyahoofinance] and Bitcoin [@btcyahoofinance] come from Yahoo Finance also ranging from late 2017 until present. All four datasets include details such as daily open and closing prices as well as high/lows and volume data. In addition, all data is marked in US dollars. The data is sourced from live charts for the daily open, close, and volume recorded on exchanges and recorded at the end of every day. The cleaning, modelling, and analysis of these four datasets will be carried out using the statistical programming language `R` [@citeR], using the packages `tidyverse`[@citetidy], `here`[@citeHere], `rstanarm`[@rstanarm], `dplyr` (Wickham et al. 2021), and `ggplot2`[@citeGG].


```{r}
#| include: false
#| warning: false
#| message: false

library(tidyverse)
library(here)
library(knitr)

price <- read_csv(here::here("data/analysis_data/crypto prices.csv"))
volatility <- read_csv(here::here("data/analysis_data/crypto volatility.csv"))
p_5 <- head(price, 5)
v_5 <- head(volatility, 5)

```

## Price Data

The crypto prices and metals prices cleaned datasets feature the closing price points of the two cryptocurrencies eth_Close, btc_Close, along with the respective close prices for the metals gold_Close and silver_Close. In addition, there is a date column for the closing prices. These datasets range from November 12, 2017 until the date they were fetched, April 4th, 2024. Though there is data for every single day of the year, within the aforementioned range, the cleaned dataset only takes into account the closing balance of the crytpocurrency/precious metal every 15 days, or the 1st and 15th of every month. The purpose of that is to reduce noise and filters out short term volatility and gives the data a more long term perspective. In addition to the date adjustment, there are also adjustments made to the closing prices. For readability in graphs, all assets were readjusted to have a present value of in the range of 1 Bitcoin. The adjustments made were 20x Ethereum, 30x Gold (oz.), and 2500x Silver (oz.).


```{r}
#| echo: false
#| warning: false
#| label: tbl-1
#| tbl-cap: "A summary table for crypto price data"

kable(p_5)
```


## Volatility Data

The volatility data was separated much like the prices datasets. One dataset for crypto volatility and one for metals volatility. In both datasets, volatility was calculated by using a normalized average true range. 


First, the true range was calculated with:


TR = Max [(H - L), |H - Cp|, |L - Cp|]

Where:
H = Today's high
L = Today's low
Cp = Yesterday's closing price
Max = Highest value of the three terms
Source: [@InvestopediaFormula]


Then the average true range was calculated with and represented by (asset)_ATR in @tbl-2:


(1/n) * Σ(TRi)

Where:
TRi = Particular true range for each period (e.g., first day's TR, second day's TR, etc.)
Σ = Summation symbol (summing up all the individual TRi values)
n = Number of periods (15 in the data to match the price data)
Source: [@InvestopediaFormula]


The normalized average true range was calculated by normalizing the ATR value with the closing price of the asset and represented by (asset)_ATR_norm in @tbl-2:


ATR/Cp

Where: 
ATR = The ATR of the asset 
Cp = Current day's closing price


```{r}
#| echo: false
#| warning: false
#| label: tbl-2
#| tbl-cap: "A summary table for crypto volatility"

kable(v_5)

```



# Model

The goal of our modelling strategy is twofold. Firstly,...

Here we briefly describe the Bayesian analysis model used to investigate... Background details and diagnostics are included in [Appendix -@sec-model-details].

## Model set-up

Define $y_i$ as the number of seconds that the plane remained aloft. Then $\beta_i$ is the wing width and $\gamma_i$ is the wing length, both measured in millimeters.  

\begin{align} 
y_i|\mu_i, \sigma &\sim \mbox{Normal}(\mu_i, \sigma) \\
\mu_i &= \alpha + \beta_i + \gamma_i\\
\alpha &\sim \mbox{Normal}(0, 2.5) \\
\beta &\sim \mbox{Normal}(0, 2.5) \\
\gamma &\sim \mbox{Normal}(0, 2.5) \\
\sigma &\sim \mbox{Exponential}(1)
\end{align}

We run the model in R [@citeR] using the `rstanarm` package of @rstanarm. We use the default priors from `rstanarm`.


### Model justification

We expect a positive relationship between the size of the wings and time spent aloft. In particular...

We can use maths by including latex between dollar signs, for instance $\theta$.


# Results

Our results are summarized in @tbl-modelresults.

```{r}
#| echo: false
#| eval: true
#| warning: false
#| message: false

library(rstanarm)

first_model <-
  readRDS(file = here::here("models/price chart.rds"))
```

```{r}

```




# Discussion

## 

If my paper were 10 pages, then should be be at least 2.5 pages. The discussion is a chance to show off what you know and what you learnt from all this. 

## Second discussion point

## Biases and Weaknesses
One of the greatest weaknesses stems from the limited historical data of cryptocurrencies. The value of precious metals can be trace back centuries and has solidified itself as a solid holding asset while cryptocurrencies such as Ethereum was only introduced in the late 2016s. Therefore, the only results and conclusion that can be made...

## Next Steps
Some next steps I can take for future devlopments can be to continue to monitor the price of crypto over the next few decades and see how it reacts to different economic coniditions and how that compares to precious metals.

\newpage

\appendix

# Appendix {-}


# Additional data details

# Model details {#sec-model-details}

## Posterior predictive check

In @fig-ppcheckandposteriorvsprior-1 we implement a posterior predictive check. This shows...

In @fig-ppcheckandposteriorvsprior-2 we compare the posterior with the prior. This shows... 

```{r}

```

## Diagnostics

@fig-stanareyouokay-1 is a trace plot. It shows... This suggests...

@fig-stanareyouokay-2 is a Rhat plot. It shows... This suggests...

```{r}

```



\newpage


# References


